# Εργαστήριο 3 στην Python

## Εξάσκηση (εκφωνήσεις και λύσεις ασκήσεων)

**Άσκηση E3A1** - Στο ακόλουθο tweet ο [Lex Fridman](https://twitter.com/lexfridman) αναφέρει ότι η αναμενόμενη τιμή του πλήθους τυχαίων επιλογών αριθμών στο διάστημα 0 έως 1 που απαιτούνται έτσι ώστε το άθροισμά τους να ξεπεράσει το 1 είναι ίση με e=2.7182…

![A mushroom-head robot](images/lex_fridman_tweet.png)

<!-- ```
  Select numbers between 0 and 1 randomly until sum is > 1.
  The expected # of selections needed is equal to e.
  — Lex Fridman (@lexfridman) March 8, 2021
``` -->

Τροποποιήστε το ακόλουθο template κώδικα έτσι ώστε η λύση σας να επιτυγχάνει στο unit test:

```{.py title="template3_1.py" linenums="1"}
--8<-- "src/python/lab3/template3_1.py"
```

??? note "Λύση άσκησης 1"
    ```{.py title="template3_1_sol.py" linenums="1"}
    --8<-- "src/python/lab3/template3_1_sol.py"
    ```


**Άσκηση E3A2** - Κατεβάστε σε txt μορφή το βιβλίο “Μεταμόρφωση” του Φράνσις Κάφκα από το <https://www.gutenberg.org/ebooks/5200>. Γράψτε πρόγραμμα που να διαβάζει το κείμενο. Στη συνέχεια, απομονώστε το κείμενο της πρώτης παραγράφου (One morning...looked), μετατρέψτε το κείμενο σε πεζά γράμματα, και συμπληρώστε τις συναρτήσεις που απαντούν στα ακόλουθα ερωτήματα:

1. Ποιο είναι το πλήθος των λέξεων του κειμένου; Για το ερώτημα αυτό όπως και για τα επόμενα θεωρήστε ως λέξεις τις συμβολοσειρές που περιέχουν μόνο χαρακτήρες του αγγλικού αλφαβήτου. Επίσης, μας ενδιαφέρουν μόνο οι διαφορετικές μεταξύ τους λέξεις.
2. Ποιο είναι το πλήθος των λέξεων του κειμένου που ξεκινούν με τον χαρακτήρα 'h' και τελειώνουν με τον χαρακτήρα 'e';
3. Ποιο είναι το πλήθος των λέξεων του κειμένου με 5 χαρακτήρες;
4. Ποιο είναι το πλήθος λέξεων του κειμένου που περιέχουν συνεχόμενους τους χαρακτήρες 'a', 's';
5. Ποιο είναι το πλήθος λέξεων του κειμένου που περιέχουν συνεχόμενους τους χαρακτήρες 'a', 's' σε οποιαδήποτε σειρά;
6. Ποιο είναι το πλήθος λέξεων του κειμένου που ξεκινούν και τελειώνουν με τον ίδιο χαρακτήρα;
7. Ποιο είναι το πλήθος λέξεων του κειμένου που ξεκινούν και τελειώνουν με τους δύο ίδιους χαρακτήρες;


Τροποποιήστε το ακόλουθο template έτσι ώστε η λύση σας να επιτυγχάνει σε όλα τα unit tests:

```{.py title="template3_2.py" linenums="1"}
--8<-- "src/python/lab3/template3_2.py"
```

??? note "Λύση άσκησης 2"
    ```{.py title="template3_2_sol.py" linenums="1"}
    --8<-- "src/python/lab3/template3_2_sol.py"
    ```

**Άσκηση E3A3** - Κατεβάστε το MovieLens [100K Dataset ml-100k.zip](https://grouplens.org/datasets/movielens/100k/). Εντοπίστε το αρχείο u.data που περιέχει 100.000 αξιολογήσεις από 943 χρήστες για 1.682 ταινίες και το αρχείο u.item που περιέχει τα στοιχεία των ταινιών. Εντοπίστε τις 10 ταινίες με τις καλύτερες αξιολογήσεις κατά μέσο όρο λαμβάνοντας υπόψη μόνο ταινίες που έχουν λάβει τουλάχιστον 50 αξιολογήσεις η κάθε μια. Εμφανίστε τους τίτλους αυτών των ταινιών. Παρατήρηση: Δείτε το αρχείο README στο ml-100k.zip για περιγραφή των περιεχομένων των αρχείων.

??? note "Λύση άσκησης 3 (α' τρόπος)"
    ```{.py title="3_3_sol.py" linenums="1"}
    --8<-- "src/python/lab3/3_3_sol.py"
    ```

??? note "Λύση άσκησης 3 (β' τρόπος με χρήση της βιβλιοθήκης pandas)"
    Πρώτα θα πρέπει να εγκατασταθούν οι βιβλιοθήκες pandas και tabulate.
    ```
    (myenv) > pip install pandas tabulate
    ```

    ```{.py title="3_3_sol_pandas.py" linenums="1"}
    --8<-- "src/python/lab3/3_3_sol_pandas.py"
    ```

**Άσκηση E3A4** - Κατεβάστε το ακόλουθο XML αρχείο που περιέχει το πρόγραμμα αγώνων ενός πρωταθλήματος.

[ITC2021_Test8_SolGenMethodA.xml](datasets/itc2021/ITC2021_Test8_SolGenMethodA.xml)

Για κάθε αγώνα εμφανίστε την απόσταση περιόδων ανάμεσα στον αγώνα και στον επαναληπτικό του. Για παράδειγμα, για τις ομάδες 0 και 1 ο αγώνας 0-1 γίνεται στην περίοδο 33 και ο επαναληπτικός αγώνας 1-0 γίνεται στην περίοδο 14, άρα η απόσταση των δύο αγώνων είναι 33-14=19 αγωνιστικές.

??? note "Λύση άσκησης 4 (α' τρόπος)"
    Το αρχείο ITC2021_Test8_SolGenMethodA.xml θα πρέπει να βρίσκεται στον ίδιο κατάλογο με το 3_4_sol.py. 
    ```{.py title="3_4_sol.py" linenums="1"}
    --8<-- "src/python/lab3/3_4_sol.py"
    ```

??? note "Λύση άσκησης 4 (β' τρόπος)"
    Το αρχείο ITC2021_Test8_SolGenMethodA.xml θα πρέπει να βρίσκεται στον ίδιο κατάλογο με το 3_4_sol_alt.py.
    ```{.py title="3_4_sol_alt.py" linenums="1"}
    --8<-- "src/python/lab3/3_4_sol_alt.py"
    ```

## Επιπλέον εξάσκηση

**Άσκηση E3A5[^1]** - Δίνεται ένα αρχείο με συνθηματικά (passwords) και κωδικοποιημένους κανόνες που πρέπει να ισχύουν για καθένα από αυτά. Το αρχείο περιέχει δεδομένα της ακόλουθης μορφής:

[^1]: πρόκειται για το [Day 2: Password Philosophy](https://adventofcode.com/2020/day/2) από το [Advent of Code 2020](https://adventofcode.com/2020).

```
1-3 a: abcde
1-3 b: cdefg
2-9 c: ccccccccc
```

Α) Κάθε γραμμή περιέχει 2 αριθμούς (x και y), έναν χαρακτήρα c και το ίδιο το συνθηματικό. Ο κανόνας για το συνθηματικό είναι ότι θα πρέπει να υπάρχει τουλάχιστον x και το πολύ y φορές ο χαρακτήρας c στο συνθηματικό. Έτσι για τα παραπάνω ισχύει ότι:

```
1-3 a: abcde είναι έγκυρο: το συνθηματικό περιέχει τον χαρακτήρα a 1 φορά.
1-3 b: cdefg είναι μη έγκυρο: το συνθηματικό δεν περιέχει τον χαρακτήρα b.
2-9 c: ccccccccc είναι έγκυρο: το συνθηματικό περιέχει τον χαρακτήρα c 9 φορές.
```

Γράψτε ένα πρόγραμμα που να χρησιμοποιεί κανονικές εκφράσεις και με unit test να ελέγχει ότι το πλήθος των έγκυρων συνθηματικών στο αρχείο [aoc2020_d2_input.txt](./datasets/aoc2020_d2_input.txt) είναι 660. 

Β) Έστω ότι ο κανόνας που είναι κωδικοποιημένος σε κάθε γραμμή σημαίνει ότι θα πρέπει ο χαρακτήρας c να βρίσκεται είτε στη θέση x είτε στη θέση y του συνθηματικού (θεωρείστε ότι ο πρώτος χαρακτήρας του συνθηματικού βρίσκεται στη θέση 1) 

Για τα παραπάνω συνθηματικά τώρα θα ισχύει:

```
1-3 a: abcde είναι έγκυρο: το συνθηματικό περιέχει τον χαρακτήρα a στη θέση 1 και όχι στη θέση 3.
1-3 b: cdefg είναι μη έγκυρο: το συνθηματικό δεν περιέχει τον χαρακτήρα b ούτε στη θέση 1 ούτε στη θέση 3.
2-9 c: ccccccccc είναι μη έγκυρο: το συνθηματικό περιέχει τον χαρακτήρα c καιν στη θέση 2 και στη θέση 9.
```

Συμπληρώστε το πρόγραμμα έτσι ώστε πάλι με χρήση κανονικών εκφράσεων και με unit test να ελέγχει ότι το πλήθος των έγκυρων συνθηματικών στο αρχείο [aoc2020_d2_input.txt](./datasets/aoc2020_d2_input.txt) τώρα είναι 530.

